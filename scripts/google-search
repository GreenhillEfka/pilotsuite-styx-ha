#!/bin/bash
# google-search - Web search using DuckDuckGo HTML (no API key required)
# Usage: google-search "your query"

set -e

if [ -z "$1" ]; then
    echo "Usage: google-search \"your query\"" >&2
    exit 1
fi

QUERY="$*"

# DuckDuckGo HTML search (no API key needed)
curl -s -G "https://html.duckduckgo.com/html/" \
    --data-urlencode "q=$QUERY" \
    -H "User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36" \
    -H "Accept: text/html" \
    2>/dev/null | \
    sed -n 's/.*<a[^>]*class="result__a"[^>]*>\([^<]*\)<\/a>.*/\1/p' | head -10